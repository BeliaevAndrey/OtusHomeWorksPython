def tower_moves(pos: int) -> int:
    # moves = 72340172838076673 << (pos % 8) ^ 255 << (8 * (pos // 8))
    moves = 72340172838076673 << (pos & 7) ^ 255 << (pos ^ (pos & 7))

    return moves & 0xffffffffffffffff

# let: pos = 17
# then: shift = 8 * (17 // 8) -> 16
# pos // 8 = 17 >> 3 = 2 -> 8 * 2 = 16
#   10001
# ^
#   00010
# --------
#   10000       <- = 2^4
#
# let: pos = 63
# then: shift= 8 * (pos // 8) -> 7 * 8
#
#  111111       <- = (2^5 + 2^4 + 2^3 + 2^2 + 2^1 + 2^0)
# ^
#  000111       <- =
# --------
#  111000       <- = (2^5 + 2^4 + 2^3 + (2^2 * 0) + (2^1 * 0) + (2^0 * 0)
